require=function a(r,s,c){function l(t,e){if(!s[t]){if(!r[t]){var n="function"==typeof require&&require;if(!e&&n)return n(t,!0);if(u)return u(t,!0);var o=new Error("Cannot find module '"+t+"'");throw o.code="MODULE_NOT_FOUND",o}var i=s[t]={exports:{}};r[t][0].call(i.exports,function(e){return l(r[t][1][e]||e)},i,i.exports,a,r,s,c)}return s[t].exports}for(var u="function"==typeof require&&require,e=0;e<c.length;e++)l(c[e]);return l}({Board:[function(e,t,n){"use strict";cc._RF.push(t,"001benjhmRBQ6DWi6gud9bL","Board");var p=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],o=!0,i=!1,a=void 0;try{for(var r,s=e[Symbol.iterator]();!(o=(r=s.next()).done)&&(n.push(r.value),!t||n.length!==t);o=!0);}catch(e){i=!0,a=e}finally{try{!o&&s.return&&s.return()}finally{if(i)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},o=e("./Core/Sudoku"),h=e("./Core/Utils"),f=e("./Box"),c=e("./UI/UIManager"),l=i(c),u=i(e("./UI/GameEvent")),d=i(e("./SoundMgr"));function i(e){return e&&e.__esModule?e:{default:e}}cc.Class({extends:cc.Component,properties:{boxes:{type:[f.Box],default:[]},panelResume:{type:cc.Layout,default:null},btnResume:{type:cc.Button,default:null},spriteOn:{type:cc.SpriteFrame,default:null},spriteOff:{type:cc.SpriteFrame,default:null},spriteFrameGreen:{type:cc.SpriteFrame,default:null},spriteFrameGreenLight:{type:cc.SpriteFrame,default:null},spriteFrameNone:{type:cc.SpriteFrame,default:null},_sudoku:null,_lastSelected:null,_highlightCellIndexes:[],_steps:[],_isMarked:!1,puzzleInit:null},onLoad:function(){this._initBoard(),u.default.globalEvent.on("CELL_SELECTED",this._onCellSelected,this),u.default.globalEvent.on("NUMBER_CLICKED",this._onNumberClicked,this),u.default.globalEvent.on("UNDO",this._onUndo,this),u.default.globalEvent.on("ERASE",this._onErase,this),u.default.globalEvent.on("MARK",this._onGameMark,this),u.default.globalEvent.on("HINT",this._onHint,this),u.default.globalEvent.on("NEW_GAME_DIFF",this._onNewGameByDiff,this),u.default.globalEvent.on("GAME_RESTART",this.restart,this),u.default.globalEvent.on("GAME_PAUSE",this._onGamePause,this),u.default.globalEvent.on("GAME_RESUME",this._onGameResume,this)},start:function(){},onDestroy:function(){u.default.globalEvent.off("CELL_SELECTED",this._onCellSelected,this),u.default.globalEvent.off("NUMBER_CLICKED",this._onNumberClicked,this),u.default.globalEvent.off("UNDO",this._onUndo,this),u.default.globalEvent.off("ERASE",this._onErase,this),u.default.globalEvent.off("MARK",this._onGameMark,this),u.default.globalEvent.off("HINT",this._onHint,this),u.default.globalEvent.off("NEW_GAME_DIFF",this._onNewGameByDiff,this),u.default.globalEvent.off("GAME_RESTART",this.restart,this),u.default.globalEvent.off("GAME_PAUSE",this._onGamePause,this),u.default.globalEvent.off("GAME_RESUME",this._onGameResume,this)},_initBoard:function(){var s=this,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"easy";console.log("_initBoard",e),this._sudoku=new o.Sudoku,this._sudoku.make(e),this.puzzleInit=[],this._sudoku.puzzleMatrix.forEach(function(e){var t=[];e.forEach(function(e){t.push(e)}),s.puzzleInit.push(t)}),this._sudoku.puzzleMatrix.forEach(function(e,r){e.forEach(function(e,t){var n=h.Utils.box.convertToBoxIndex(r,t),o=n.boxIndex,i=n.cellIndex,a=s.boxes[o].getComponent(f.Box).getCell(i);a.setIndex(o,i),a.labelNum.string=e||"",a.labelNum.node.color=e?new cc.Color(0,0,0):new cc.Color(3,80,165),a.getComponent(cc.Button).interactable=0===e})}),this._steps=[],this._unhighlightCells(),this._lastSelected=null,this._highlightCellIndexes=[],this._isMarked=!1,this.panelResume.node.active=!1,u.default.globalEvent.emit("GAME_START")},restart:function(){var s=this;this._sudoku.puzzleMatrix=[],this.puzzleInit.forEach(function(e){var t=[];e.forEach(function(e){t.push(e)}),s._sudoku.puzzleMatrix.push(t)}),this._sudoku.puzzleMatrix.forEach(function(e,r){e.forEach(function(e,t){var n=h.Utils.box.convertToBoxIndex(r,t),o=n.boxIndex,i=n.cellIndex,a=s.boxes[o].getComponent(f.Box).getCell(i);a.setIndex(o,i),a.labelNum.string=e||"",a.labelNum.node.color=e?new cc.Color(0,0,0):new cc.Color(3,80,165),a.getComponent(cc.Button).interactable=0===e})}),this._steps=[],this._unhighlightCells(),this._lastSelected=null,this._highlightCellIndexes=[],this._isMarked=!1,this.panelResume.node.active=!1,u.default.globalEvent.emit("GAME_START")},_onCellSelected:function(e){d.default.Instance.playSoundClip("clickBoard"),console.log("_onCellSelected:"),this._unhighlightCells(),this._lastSelected=e.detail,this._highlightCells()},_fillNumber:function(e){var t=this.boxes[this._lastSelected.boxIndex].getComponent(f.Box).getCell(this._lastSelected.cellIndex);if(t.clearMarks(),t.labelNum.string!=e){u.default.globalEvent.emit("STEP_ADD"),t.labelNum.string=e;var n=h.Utils.box.convertFromBoxIndex(this._lastSelected.boxIndex,this._lastSelected.cellIndex),o=n.rowIndex,i=n.colIndex;this._steps.push([this._lastSelected,this._sudoku.puzzleMatrix[o][i]]),this._sudoku.puzzleMatrix[o][i]=e;var a=this._sudoku.check(this._lastSelected.boxIndex,this._lastSelected.cellIndex),r=a.correct,s=a.finish;t.labelNum.node.color=r?new cc.Color(3,80,165):new cc.Color(241,26,26),r?d.default.Instance.playSoundClip("right"):(d.default.Instance.playSoundClip("wrong"),u.default.globalEvent.emit("ERROR_ADD")),s&&(u.default.globalEvent.emit("GAME_FINISH"),l.default.Inst.switchView(c.E_GameView.end))}},_fillMark:function(e){var t=this.boxes[this._lastSelected.boxIndex].getComponent(f.Box).getCell(this._lastSelected.cellIndex);t.labelNum.string="",t.labelMarks[e-1].node.active=!t.labelMarks[e-1].node.active;var n=h.Utils.box.convertFromBoxIndex(this._lastSelected.boxIndex,this._lastSelected.cellIndex),o=n.rowIndex,i=n.colIndex;this._sudoku.puzzleMatrix[o][i]=0},_onNumberClicked:function(e){if(this._lastSelected){var t=parseInt(e.detail.number);this._isMarked?this._fillMark(t):this._fillNumber(t)}},_onUndo:function(){if(!this._isMarked&&0!=this._steps.length){var e=this._steps.pop(),t=p(e,2),n=t[0],o=n.boxIndex,i=n.cellIndex,a=t[1],r=h.Utils.box.convertFromBoxIndex(o,i),s=r.rowIndex,c=r.colIndex;this._sudoku.puzzleMatrix[s][c]=parseInt(a);var l=this.boxes[o].getComponent(f.Box).getCell(i);l.labelNum.string=a||"";var u=this._sudoku.check(o,i),d=u.correct;u.finish;l.labelNum.node.color=d?new cc.Color(3,80,165):new cc.Color(241,26,26)}},_onErase:function(){if(!this._isMarked&&this._lastSelected){this.boxes[this._lastSelected.boxIndex].getComponent(f.Box).getCell(this._lastSelected.cellIndex).labelNum.string="";var e=h.Utils.box.convertFromBoxIndex(this._lastSelected.boxIndex,this._lastSelected.cellIndex),t=e.rowIndex,n=e.colIndex;this._steps.push([this._lastSelected,this._sudoku.puzzleMatrix[t][n]]),this._sudoku.puzzleMatrix[t][n]=0}},_onNewGameByDiff:function(e){this._initBoard(e.detail)},_unhighlightCells:function(){var i=this;this._lastSelected&&(this._highlightCellIndexes.forEach(function(e){var t=p(e,2),n=t[0],o=t[1];i.boxes[n].getComponent(f.Box).getCell(o).node.getComponent(cc.Sprite).spriteFrame=i.spriteFrameNone}),this._highlightCellIndexes=[])},_highlightCells:function(){if(console.log("_highlightCells",this._lastSelected),this._lastSelected){for(var e=h.Utils.box.convertFromBoxIndex(this._lastSelected.boxIndex,this._lastSelected.cellIndex),t=e.rowIndex,n=e.colIndex,o=0;o<9;o++){var i=void 0,a=void 0,r=h.Utils.box.convertToBoxIndex(t,o);i=r.boxIndex,a=r.cellIndex;var s=this.boxes[i].getComponent(f.Box).getCell(a);s.node.getComponent(cc.Sprite).spriteFrame=this.spriteFrameGreenLight,this._highlightCellIndexes.push([i,a]);var c=h.Utils.box.convertToBoxIndex(o,n);i=c.boxIndex,a=c.cellIndex,(s=this.boxes[i].getComponent(f.Box).getCell(a)).node.getComponent(cc.Sprite).spriteFrame=this.spriteFrameGreenLight,this._highlightCellIndexes.push([i,a]),(s=this.boxes[this._lastSelected.boxIndex].getComponent(f.Box).getCell(o)).node.getComponent(cc.Sprite).spriteFrame=this.spriteFrameGreenLight,this._highlightCellIndexes.push([this._lastSelected.boxIndex,o])}this.boxes[this._lastSelected.boxIndex].getComponent(f.Box).getCell(this._lastSelected.cellIndex).node.getComponent(cc.Sprite).spriteFrame=this.spriteFrameGreen}},_onGamePause:function(){this.panelResume.node.active=!0},_onGameResume:function(){this.panelResume.node.active=!1},_onGameMark:function(){this._isMarked=!this._isMarked},_onHint:function(){if(this._lastSelected){this._sudoku.hintNum-=1;var e=h.Utils.box.convertFromBoxIndex(this._lastSelected.boxIndex,this._lastSelected.cellIndex),t=e.rowIndex,n=e.colIndex;this._fillNumber(this._sudoku.matrix[t][n])}}}),cc._RF.pop()},{"./Box":"Box","./Core/Sudoku":"Sudoku","./Core/Utils":"Utils","./SoundMgr":"SoundMgr","./UI/GameEvent":"GameEvent","./UI/UIManager":"UIManager"}],Box:[function(e,t,n){"use strict";cc._RF.push(t,"717a8MRi4dFMKZB8ZtI3kK5","Box"),Object.defineProperty(n,"__esModule",{value:!0}),n.Box=void 0;var o=e("./Cell"),i=cc.Class({extends:cc.Component,properties:{cells:{type:[o.Cell],default:[]}},onLoad:function(){},start:function(){},getCell:function(e){return this.cells[e].getComponent(o.Cell)}});n.Box=i,cc._RF.pop()},{"./Cell":"Cell"}],Cell:[function(e,t,n){"use strict";cc._RF.push(t,"940ec8I1QBO9ID107JA31il","Cell"),Object.defineProperty(n,"__esModule",{value:!0}),n.Cell=void 0;var o,i=e("./UI/GameEvent"),a=(o=i)&&o.__esModule?o:{default:o};var r=cc.Class({extends:cc.Component,properties:{labelNum:{type:cc.Label,default:null},labelMarks:{type:[cc.Label],default:[]},_boxIndex:null,_cellIndex:null},onLoad:function(){this.clearMarks();var e=new cc.Component.EventHandler;e.target=this.node,e.component="Cell",e.handler="onClickCell",e.customEventData={boxIndex:this._boxIndex,cellIndex:this._cellIndex},this.node.getComponent(cc.Button).clickEvents.push(e),this.labelMarks.forEach(function(e){e.node.color=cc.Color.GRAY})},start:function(){},onClickCell:function(e,t){console.log("onClickCell",t),a.default.globalEvent.emit("CELL_SELECTED",t)},setIndex:function(e,t){this._boxIndex=e,this._cellIndex=t},clearMarks:function(){var e=!0,t=!1,n=void 0;try{for(var o,i=this.labelMarks[Symbol.iterator]();!(e=(o=i.next()).done);e=!0){o.value.node.active=!1}}catch(e){t=!0,n=e}finally{try{!e&&i.return&&i.return()}finally{if(t)throw n}}}});n.Cell=r,cc._RF.pop()},{"./UI/GameEvent":"GameEvent"}],DataMgr:[function(e,t,n){"use strict";cc._RF.push(t,"0f397tDfnpH84MmsdCNm+G1","DataMgr"),Object.defineProperty(n,"__esModule",{value:!0});var o=cc._decorator,i=o.ccclass,a=(o.property,function(){function e(){this.GameDataJson={},this.curLevelJson={},this.curMode="easy",this.LEVELMODEL={EASY:"easy",MEDIUM:"medium",HARD:"hard",INSANE:"insane"},this.levelMode=["easy","medium","hard","insane"]}var t;return t=e,Object.defineProperty(e,"Inst",{get:function(){return null==t.inst&&(t.inst=new t),t.inst},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"soundOn",{get:function(){return cc.sys.localStorage.getItem("SoundOn")||cc.sys.localStorage.setItem("SoundOn","on"),"on"==cc.sys.localStorage.getItem("SoundOn")},set:function(e){cc.sys.localStorage.setItem("SoundOn",e?"on":"off")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"musicOn",{get:function(){return cc.sys.localStorage.getItem("MusicOn")||cc.sys.localStorage.setItem("MusicOn","on"),"on"==cc.sys.localStorage.getItem("MusicOn")},enumerable:!0,configurable:!0}),e.prototype.init=function(){if(!cc.sys.localStorage.getItem("GameDataJson")){for(var e={},t=0;t<this.levelMode.length;t++){var n=this.levelMode[t];e[n]||(e[n]={}),e[n].bestTime=5999,e[n].bestStep=999,e[n].finished=0}cc.sys.localStorage.setItem("GameDataJson",JSON.stringify(e))}this.GameDataJson=JSON.parse(cc.sys.localStorage.getItem("GameDataJson")),console.log(this.GameDataJson)},e.prototype.setFinish=function(e,t,n){this.curLevelJson={},this.curLevelJson.time=e,this.curLevelJson.step=t,this.curLevelJson.error=n,e<parseFloat(this.GameDataJson[this.curMode].bestTime)&&(this.GameDataJson[this.curMode].bestTime=e),t<parseFloat(this.GameDataJson[this.curMode].bestStep)&&(this.GameDataJson[this.curMode].bestStep=t),this.curLevelJson.bestTime=this.GameDataJson[this.curMode].bestTime,this.curLevelJson.bestStep=this.GameDataJson[this.curMode].bestStep,this.GameDataJson[this.curMode].finished=parseInt(this.GameDataJson[this.curMode].finished)+1,console.log("GameDataJson",this.GameDataJson),cc.sys.localStorage.setItem("GameDataJson",JSON.stringify(this.GameDataJson))},e.prototype.setCurMode=function(e){this.curMode=e},e.prototype.getCurLevelData=function(){return this.curLevelJson},e.prototype.getGameDataJson=function(){return this.GameDataJson},e.prototype.setMusicOn=function(e){},e.inst=null,e=t=__decorate([i],e)}());n.default=a,cc._RF.pop()},{}],DemoTs:[function(e,t,n){"use strict";cc._RF.push(t,"e0fddHBi3tDcb5wdyer7z8j","DemoTs"),Object.defineProperty(n,"__esModule",{value:!0});var o=cc._decorator,i=o.ccclass,a=(o.property,e("./MtaSdk")),r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.start=function(){},t.prototype.login=function(){a.default.Inst.init(),console.log("login")},t.prototype.event1=function(){a.default.Inst.event("event3"),console.log("event3")},t.prototype.event2=function(){a.default.Inst.event("event4",{query:"特斯拉"}),console.log("event4")},t=__decorate([i],t)}(cc.Component);n.default=r,cc._RF.pop()},{"./MtaSdk":"MtaSdk"}],Diffculty:[function(e,t,n){"use strict";cc._RF.push(t,"4d59dkx7HlFFqMJEVB7CM/3","Diffculty"),cc.Class({extends:cc.Component,properties:{panel:{type:cc.Layout,default:null},mask:{type:cc.Layout,default:null}},onLoad:function(){this.panel.node.y=-640,this.mask.node.active=!1},onDestroy:function(){},start:function(){},onShow:function(){this.mask.node.active=!0;var e=cc.moveTo(.1,cc.p(0,0));this.panel.node.runAction(e)},onHide:function(){this.panel.node.getChildByName("ButtonCancel").active=!0,this.mask.node.active=!1;var e=cc.moveTo(.1,cc.p(0,-640));this.panel.node.runAction(e)},onGameFinish:function(){this.panel.node.getChildByName("ButtonCancel").active=!1}}),cc._RF.pop()},{}],EndView:[function(e,t,n){"use strict";cc._RF.push(t,"5b981dD7/RBmb/4EsMNYc0O","EndView"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("./UIManager"),i=e("./ViewBase"),a=e("./GameEvent"),r=e("../Mta/MtaSdk"),s=e("../Core/DataMgr"),c=e("../Util"),l=e("../QTTSdk"),u=e("../SoundMgr"),d=cc._decorator,p=d.ccclass,h=d.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.backBtn=null,e.menuBtns=[],e.mistakeLabel=null,e.timeLabel=null,e.bestTimeLabel=null,e.runLabel=null,e.bestRunLabel=null,e.perfectNode=null,e}return __extends(e,t),e.prototype.start=function(){r.default.Inst.event("ShowEndView"),this.backBtn.y=120;var e=cc.moveTo(.3,cc.v2(this.backBtn.x,-64)).easing(cc.easeBackOut());this.backBtn.runAction(e);for(var t=0;t<this.menuBtns.length;t++){this.menuBtns[t].x=-600;var n=cc.moveTo(.3,cc.v2(0,this.menuBtns[t].y)).easing(cc.easeBackOut());this.menuBtns[t].runAction(cc.sequence(cc.delayTime(.1+.15*t),n))}var o=s.default.Inst.getCurLevelData();this.mistakeLabel.string=o.error,this.timeLabel.string=c.default.formatTimeFull(Math.floor(o.time)),this.bestTimeLabel.string=c.default.formatTimeFull(Math.floor(o.bestTime)),this.runLabel.string=o.step,this.bestRunLabel.string=o.bestStep,u.default.Instance.playSoundClip("end"),this.scheduleOnce(function(){l.default.Inst.showInsert()},1)},e.prototype.BackBtnClick=function(){u.default.Instance.playSoundClip("clickButton"),o.default.Inst.switchView(o.E_GameView.select)},e.prototype.restartBtnClick=function(){u.default.Instance.playSoundClip("clickButton"),a.default.globalEvent.emit("GAME_RESTART"),r.default.Inst.event("retstart_end_"+s.default.Inst.curMode),o.default.Inst.switchView(o.E_GameView.game)},e.prototype.nextBtnClick=function(){u.default.Instance.playSoundClip("clickButton"),a.default.globalEvent.emit("NEW_GAME_DIFF","medium"),r.default.Inst.event("Select_Normal"),o.default.Inst.switchView(o.E_GameView.game)},__decorate([h(cc.Node)],e.prototype,"backBtn",void 0),__decorate([h([cc.Node])],e.prototype,"menuBtns",void 0),__decorate([h(cc.Label)],e.prototype,"mistakeLabel",void 0),__decorate([h(cc.Label)],e.prototype,"timeLabel",void 0),__decorate([h(cc.Label)],e.prototype,"bestTimeLabel",void 0),__decorate([h(cc.Label)],e.prototype,"runLabel",void 0),__decorate([h(cc.Label)],e.prototype,"bestRunLabel",void 0),__decorate([h(cc.Node)],e.prototype,"perfectNode",void 0),e=__decorate([p],e)}(i.default);n.default=f,cc._RF.pop()},{"../Core/DataMgr":"DataMgr","../Mta/MtaSdk":"MtaSdk","../QTTSdk":"QTTSdk","../SoundMgr":"SoundMgr","../Util":"Util","./GameEvent":"GameEvent","./UIManager":"UIManager","./ViewBase":"ViewBase"}],Function:[function(e,t,n){"use strict";cc._RF.push(t,"ccaefPWRvZKirLj1rcqf9N+","Function");var o=e("./QTTSdk"),i=u(o),a=u(e("./Mta/MtaSdk")),r=u(e("./UI/GameEvent")),s=e("./UI/UIManager"),c=u(s),l=u(e("./SoundMgr"));function u(e){return e&&e.__esModule?e:{default:e}}cc.Class({extends:cc.Component,properties:{},onLoad:function(){},onClickUndo:function(e,t){l.default.Instance.playSoundClip("clickButton"),r.default.globalEvent.emit("UNDO")},onClickErase:function(e,t){l.default.Instance.playSoundClip("clickButton"),r.default.globalEvent.emit("ERASE")},onClickMark:function(){l.default.Instance.playSoundClip("clickButton"),r.default.globalEvent.emit("MARK")},onClickHint:function(){l.default.Instance.playSoundClip("clickButton"),i.default.Inst.showVideo(function(e){e==o.AdsCode.finish?(console.log("视频播放成功"),r.default.globalEvent.emit("HINT"),a.default.Inst.event("HintSuccess")):e==o.AdsCode.cancel?(console.log("视频中途关闭，播放未完成"),a.default.Inst.event("HintCanel")):(console.log("视频播放失败"),a.default.Inst.event("HintFail"))})},onClickFinish:function(){r.default.globalEvent.emit("GAME_FINISH"),c.default.Inst.switchView(s.E_GameView.end)},onClickNew:function(){r.default.globalEvent.emit("NEW")},onClickCancel:function(){r.default.globalEvent.emit("CANCEL")},onClickNewGameByDiff:function(e,t){r.default.globalEvent.emit("NEW_GAME_DIFF",t)},onClickPause:function(){r.default.globalEvent.emit("GAME_PAUSE")},onClickResume:function(){l.default.Instance.playSoundClip("clickButton"),r.default.globalEvent.emit("GAME_RESUME")}}),cc._RF.pop()},{"./Mta/MtaSdk":"MtaSdk","./QTTSdk":"QTTSdk","./SoundMgr":"SoundMgr","./UI/GameEvent":"GameEvent","./UI/UIManager":"UIManager"}],GameEvent:[function(e,t,n){"use strict";cc._RF.push(t,"8c65bJlK/lLG50tgBllZN4d","GameEvent"),Object.defineProperty(n,"__esModule",{value:!0});var o=cc._decorator,i=o.ccclass,a=(o.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.globalEvent=new cc.EventTarget,t=__decorate([i],t)}(cc.Component));n.default=a,cc._RF.pop()},{}],GameView:[function(e,t,n){"use strict";cc._RF.push(t,"3e12073RZ9FC4WHEXC5L4Gq","GameView"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("./ViewBase"),i=e("../Mta/MtaSdk"),a=e("./UIManager"),r=e("./GameEvent"),s=e("../Core/DataMgr"),c=e("../Util"),l=e("../SoundMgr"),u=cc._decorator,d=u.ccclass,p=u.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.backBtn=null,e.restartBtn=null,e.usedTime=null,e._usedTime=0,e.stepLabel=null,e._stepCount=0,e.errorLabel=null,e._errorCount=0,e}return __extends(e,t),e.prototype.onLoad=function(){r.default.globalEvent.on("STEP_ADD",this.onStepAdd,this),r.default.globalEvent.on("ERROR_ADD",this.onErrorAdd,this),r.default.globalEvent.on("GAME_FINISH",this.onGameFinish,this)},e.prototype.onDestroy=function(){r.default.globalEvent.off("STEP_ADD",this.onStepAdd,this),r.default.globalEvent.off("ERROR_ADD",this.onErrorAdd,this),r.default.globalEvent.off("GAME_FINISH",this.onGameFinish,this)},e.prototype.onStepAdd=function(){console.log("onStepAdd"),this._stepCount+=1,this.stepLabel.string=this._stepCount.toString()},e.prototype.onErrorAdd=function(){console.log("onErrorAdd"),this._errorCount+=1,this.errorLabel.string=this._errorCount.toString()},e.prototype.onGameFinish=function(){console.log("onGameFinish"),s.default.Inst.setFinish(this._usedTime,this._stepCount,this._errorCount)},e.prototype.start=function(){i.default.Inst.event("ShowGameView"),this._usedTime=0,this.backBtn.y=120;var e=cc.moveTo(.3,cc.v2(this.backBtn.x,-64)).easing(cc.easeBackOut());this.backBtn.runAction(e),this.restartBtn.y=120;var t=cc.moveTo(.3,cc.v2(this.restartBtn.x,-64)).easing(cc.easeBackOut());this.restartBtn.runAction(t)},e.prototype.update=function(e){this._usedTime+=e,this.usedTime.string=c.default.formatTimeFull(Math.floor(this._usedTime))},e.prototype.BackBtnClick=function(){l.default.Instance.playSoundClip("clickButton"),a.default.Inst.switchView(a.E_GameView.select)},e.prototype.RestartBtnClick=function(){l.default.Instance.playSoundClip("clickButton"),i.default.Inst.event("retstart_game_"+s.default.Inst.curMode),r.default.globalEvent.emit("GAME_RESTART"),a.default.Inst.switchView(a.E_GameView.game)},__decorate([p(cc.Node)],e.prototype,"backBtn",void 0),__decorate([p(cc.Node)],e.prototype,"restartBtn",void 0),__decorate([p(cc.Label)],e.prototype,"usedTime",void 0),__decorate([p(cc.Label)],e.prototype,"stepLabel",void 0),__decorate([p(cc.Label)],e.prototype,"errorLabel",void 0),e=__decorate([d],e)}(o.default);n.default=h,cc._RF.pop()},{"../Core/DataMgr":"DataMgr","../Mta/MtaSdk":"MtaSdk","../SoundMgr":"SoundMgr","../Util":"Util","./GameEvent":"GameEvent","./UIManager":"UIManager","./ViewBase":"ViewBase"}],Game:[function(e,t,n){"use strict";cc._RF.push(t,"2b688q7w+ROMpaWuRfflGOZ","Game");var o,i=e("./UI/GameEvent"),a=(o=i)&&o.__esModule?o:{default:o};cc.Class({extends:cc.Component,properties:{usedTime:{type:cc.Label,default:null},_usedTime:0,_isPaused:!1},onLoad:function(){a.default.globalEvent.on("GAME_START",this._onGameStart,this),a.default.globalEvent.on("GAME_PAUSE",this._onGamePause,this),a.default.globalEvent.on("GAME_RESUME",this._onGameResume,this)},update:function(e){this._isPaused||(this._usedTime+=e)},onDestroy:function(){a.default.globalEvent.off("GAME_START",this._onGameStart,this),a.default.globalEvent.off("GAME_PAUSE",this._onGamePause,this),a.default.globalEvent.off("GAME_RESUME",this._onGameResume,this)},_onGameStart:function(){this._usedTime=0},_onGamePause:function(){this._isPaused=!0},_onGameResume:function(){this._isPaused=!1},_formatTimeString:function(){var e=Math.ceil(this._usedTime),t=Math.floor(e/3600);e%=3600;var n=Math.floor(e/60);return t<10&&(t="0"+t),n<10&&(n="0"+n),(e%=60)<10&&(e="0"+e),t+":"+n+":"+e}}),cc._RF.pop()},{"./UI/GameEvent":"GameEvent"}],Generator:[function(e,t,n){"use strict";cc._RF.push(t,"c3aa6DXLUVHQ65llnp8fsVa","Generator"),Object.defineProperty(n,"__esModule",{value:!0}),n.Generator=void 0;var o=function(){function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}}(),r=e("./Utils");var i=function(){function e(){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this._retry_time=0}return o(e,[{key:"generate",value:function(){for(;!this.internalGenerate();)this._retry_time+=1;return console.log("retry generate "+this._retry_time+" times"),this._retry_time=0,this.matrix}},{key:"internalGenerate",value:function(){var n=this;return this.matrix=r.Utils.matrix.make(),this.orders=r.Utils.matrix.make().map(function(e){return e.map(function(e,t){return t})}).map(function(e){return r.Utils.matrix.shuffle(e)}),r.Utils.matrix.makeRow().every(function(e,t){return n.fillNumber(t+1)})}},{key:"fillNumber",value:function(e){return this.fillRow(e,0)}},{key:"fillRow",value:function(e,t){if(9<=t)return!0;for(var n=this.matrix[t],o=this.orders[t],i=0;i<o.length;i++){var a=o[i];if(!n[a]&&r.Utils.matrix.fillable(this.matrix,t,a,e))return n[a]=e,!!this.fillRow(e,t+1)||(n[a]=0,!1)}return!1}}]),e}();n.Generator=i,cc._RF.pop()},{"./Utils":"Utils"}],HelpView:[function(e,t,n){"use strict";cc._RF.push(t,"6f095b9NyBJgblwWcPGCS/K","HelpView"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("./UIManager"),i=e("./ViewBase"),a=e("../SoundMgr"),r=cc._decorator,s=r.ccclass,c=r.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.spriteBG=null,e.sprites=[],e.curIndex=0,e}return __extends(e,t),e.prototype.start=function(){this.curIndex=0,this.spriteBG.spriteFrame=this.sprites[this.curIndex]},e.prototype.PlayBtnClick=function(){a.default.Instance.playSoundClip("clickButton"),this.curIndex++,this.curIndex>=this.sprites.length?o.default.Inst.switchView(o.E_GameView.start):this.spriteBG.spriteFrame=this.sprites[this.curIndex]},__decorate([c(cc.Sprite)],e.prototype,"spriteBG",void 0),__decorate([c([cc.SpriteFrame])],e.prototype,"sprites",void 0),e=__decorate([s],e)}(i.default);n.default=l,cc._RF.pop()},{"../SoundMgr":"SoundMgr","./UIManager":"UIManager","./ViewBase":"ViewBase"}],MtaSdk:[function(e,t,n){"use strict";cc._RF.push(t,"24864bdWpFHHbfiKne3O5u6","MtaSdk"),Object.defineProperty(n,"__esModule",{value:!0});var o=cc._decorator,i=o.ccclass,a=(o.property,e("mta-h5-analysis-2.0.15")),r=function(){function e(){}var t;return t=e,Object.defineProperty(e,"Inst",{get:function(){return null==t._INST&&(t._INST=new t),t._INST},enumerable:!0,configurable:!0}),e.prototype.init=function(){a.init({sid:t.mta_sid,cid:t.mta_cid,autoReport:1,senseHash:1,senseQuery:1,performanceMonitor:1,ignoreParams:[]})},e.prototype.event=function(e,t){a?t?a.clickStat(e,JSON.stringify(t)):a.clickStat(e):console.warn("未找到MtaH5，确保mta sdk已接入")},e.mta_sid="500690301",e.mta_cid="500693577",e=t=__decorate([i],e)}();n.default=r,cc._RF.pop()},{"mta-h5-analysis-2.0.15":"mta-h5-analysis-2.0.15"}],Number:[function(e,t,n){"use strict";cc._RF.push(t,"25749sa8zVF6450RyOm6QmT","Number");var o,i=e("./UI/GameEvent"),a=(o=i)&&o.__esModule?o:{default:o};cc.Class({extends:cc.Component,properties:{number:{type:cc.Button,default:null},_isMark:!1},onLoad:function(){var e=new cc.Component.EventHandler;e.target=this.node,e.component="Number",e.handler="onClickNumber",e.customEventData={number:(parseInt(this.node.name.substr(6))||0)+1},this.node.getComponent(cc.Button).clickEvents.push(e),this._isMark=!1,this._setColor(),a.default.globalEvent.on("MARK",this._onMarked,this)},onDestroy:function(){a.default.globalEvent.off("MARK",this._onMarked,this)},start:function(){},onClickNumber:function(e,t){console.log("onClickNumber",t),a.default.globalEvent.emit("NUMBER_CLICKED",t),this.node.rotation=0,this.node.runAction(cc.rotateBy(.5,360).easing(cc.easeCubicActionOut()))},_onMarked:function(){this._isMark=!this._isMark,this._setColor()},_setColor:function(){this.number.node.getChildByName("Label")}}),cc._RF.pop()},{"./UI/GameEvent":"GameEvent"}],QTTSdk:[function(e,t,n){"use strict";var o,i;cc._RF.push(t,"892bar+m7VFcrvsjCVmqf7z","QTTSdk"),Object.defineProperty(n,"__esModule",{value:!0}),(i=o=n.AdsCode||(n.AdsCode={}))[i.finish=0]="finish",i[i.cancel=-1]="cancel",i[i.error=-2]="error";var a=function(){function n(){this.hasInit=!1}return Object.defineProperty(n,"Inst",{get:function(){return null==n._INST&&(n._INST=new n),n._INST},enumerable:!0,configurable:!0}),n.prototype.init=function(){this.hasInit||(this.hasInit=!0,this.login())},n.prototype.login=function(){var e=document.createElement("script");e.setAttribute("type","text/javascript"),e.src=n.sdk_script_url,document.body.appendChild(e);var t=document.createElement("meta");t.name="app_id",t.content=n.app_id,document.getElementsByTagName("head")[0].appendChild(t),document.title=n.app_name},n.prototype.showBanner=function(){console.log("banner show"),qttGame?qttGame.showBanner():console.log("banner null")},n.prototype.closeBanner=function(){console.log("banner close"),qttGame?qttGame.hideBanner():console.log("banner null")},n.prototype.canShowInsert=function(){return console.log("insert is :"+qttGame),qttGame},n.prototype.showInsert=function(t,e){void 0===e&&(e=""),console.log("insert show");var n={};n.gametype=Math.floor(3*Math.random())+1,n.rewardtype=1,n.data={},n.data.title=e,n.callback=function(e){1==e?t&&t(o.finish):0==e?t&&t(o.error):2==e&&t&&t(o.cancel)},qttGame.showHDAD(n)},n.prototype.canShowVideo=function(){return console.log("video is "+qttGame),qttGame},n.prototype.showVideo=function(t,e){if(void 0===e&&(e=""),console.log("video show"),!qttGame)return console.log("视频不可用"),void(t&&t(o.error));var n={};n.gametype=Math.floor(3*Math.random())+1,n.rewardtype=1,n.data={},n.data.title=e,qttGame.showVideo(function(e){1==e?t&&t(o.finish):0==e?t&&t(o.error):2==e&&t&&t(o.cancel)},n)},n.app_name="数独",n.app_id="a3GPgnjzbnN1",n.app_key="OHgpBOOkmNOeDsQDQekNHzgmSeQrO7tYCQSKAeQHS9KqGL1EKDSTSLeWBHSEMHrN",n.sdk_script_url="//newidea4-gamecenter-frontend.1sapp.com/sdk/prod/h5.v1.0.0.js?spread=required",n}();n.default=a,cc._RF.pop()},{}],Result:[function(e,t,n){"use strict";cc._RF.push(t,"81744EvgppIQ44aO4TQ+tsp","Result"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.node.active=!1},onDestroy:function(){},start:function(){},_onNewGame:function(){this.node.active=!1},_onGameFinish:function(){this.node.active=!0}}),cc._RF.pop()},{}],SelectView:[function(e,t,n){"use strict";cc._RF.push(t,"c544bb9rINEdIIM2ZtUzWG+","SelectView"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("./UIManager"),i=e("./ViewBase"),a=e("./GameEvent"),r=e("../Mta/MtaSdk"),s=e("../Core/DataMgr"),c=e("../SoundMgr"),l=cc._decorator,u=l.ccclass,d=l.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.backBtn=null,e.resumeBtn=null,e.menuBtns=[],e}return __extends(e,t),e.prototype.start=function(){r.default.Inst.event("ShowSelectView"),this.backBtn.y=120;var e=cc.moveTo(.3,cc.v2(this.backBtn.x,-64)).easing(cc.easeBackOut());this.backBtn.runAction(e),this.resumeBtn.x=600;var t=cc.moveTo(.3,cc.v2(265,this.resumeBtn.y)).easing(cc.easeBackOut());this.resumeBtn.runAction(cc.sequence(cc.delayTime(.1+.2),t));for(var n=0;n<4;n++){this.menuBtns[n].x=-600;var o=cc.moveTo(.3,cc.v2(0,this.menuBtns[n].y)).easing(cc.easeBackOut());this.menuBtns[n].runAction(cc.sequence(cc.delayTime(.1+.15*n),o))}},e.prototype.BackBtnClick=function(){c.default.Instance.playSoundClip("clickButton"),o.default.Inst.switchView(o.E_GameView.start)},e.prototype.EasyBtnClick=function(){c.default.Instance.playSoundClip("clickButton"),a.default.globalEvent.emit("NEW_GAME_DIFF",s.default.Inst.LEVELMODEL.EASY),s.default.Inst.setCurMode(s.default.Inst.LEVELMODEL.EASY),r.default.Inst.event("Select_Easy"),o.default.Inst.switchView(o.E_GameView.game)},e.prototype.NormalBtnClick=function(){c.default.Instance.playSoundClip("clickButton"),a.default.globalEvent.emit("NEW_GAME_DIFF",s.default.Inst.LEVELMODEL.MEDIUM),s.default.Inst.setCurMode(s.default.Inst.LEVELMODEL.MEDIUM),r.default.Inst.event("Select_Normal"),o.default.Inst.switchView(o.E_GameView.game)},e.prototype.HardBtnClick=function(){c.default.Instance.playSoundClip("clickButton"),a.default.globalEvent.emit("NEW_GAME_DIFF",s.default.Inst.LEVELMODEL.HARD),s.default.Inst.setCurMode(s.default.Inst.LEVELMODEL.HARD),r.default.Inst.event("Select_Hard"),o.default.Inst.switchView(o.E_GameView.game)},e.prototype.ExpertBtnClick=function(){c.default.Instance.playSoundClip("clickButton"),a.default.globalEvent.emit("NEW_GAME_DIFF",s.default.Inst.LEVELMODEL.INSANE),s.default.Inst.setCurMode(s.default.Inst.LEVELMODEL.INSANE),r.default.Inst.event("Select_Expert"),o.default.Inst.switchView(o.E_GameView.game)},__decorate([d(cc.Node)],e.prototype,"backBtn",void 0),__decorate([d(cc.Node)],e.prototype,"resumeBtn",void 0),__decorate([d([cc.Node])],e.prototype,"menuBtns",void 0),e=__decorate([u],e)}(i.default);n.default=p,cc._RF.pop()},{"../Core/DataMgr":"DataMgr","../Mta/MtaSdk":"MtaSdk","../SoundMgr":"SoundMgr","./GameEvent":"GameEvent","./UIManager":"UIManager","./ViewBase":"ViewBase"}],SoundMgr:[function(e,t,n){"use strict";cc._RF.push(t,"20756eQunZOeZpjdM0f6kri","SoundMgr"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("./Core/DataMgr"),i=cc._decorator,a=i.ccclass,r=i.property,s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.musicAudioSource=null,e.musicVolume=.5,e}var n;return __extends(e,t),(n=e).prototype.onLoad=function(){n.Instance=this},e.prototype.start=function(){o.default.Inst.musicOn?this.musicVolume=.5:this.musicVolume=0,this.musicAudioSource.volume=this.musicVolume,this.playMusic()},e.prototype.getUrl=function(e){return cc.url.raw("resources/sound/"+e+".ogg")},e.prototype.playSoundClip=function(e){o.default.Inst.soundOn&&cc.audioEngine.play(this.getUrl(e),!1,1)},e.prototype.playMusic=function(){this.musicAudioSource.play()},e.prototype.switchMusic=function(){o.default.Inst.musicOn?this.musicVolume=.5:this.musicVolume=0,this.musicAudioSource.volume=this.musicVolume},e.Instance=void 0,__decorate([r(cc.AudioSource)],e.prototype,"musicAudioSource",void 0),e=n=__decorate([a],e)}(cc.Component);n.default=s,cc._RF.pop()},{"./Core/DataMgr":"DataMgr"}],StartView:[function(e,t,n){"use strict";cc._RF.push(t,"90ec5UgTtJET5lHneebBKdZ","StartView"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("./UIManager"),i=e("./ViewBase"),a=e("../SoundMgr"),r=cc._decorator,s=r.ccclass,c=r.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.helpBtn=null,e.menuBtns=[],e}return __extends(e,t),e.prototype.start=function(){this.helpBtn.y=120;var e=cc.moveTo(.3,cc.v2(this.helpBtn.x,-63.6)).easing(cc.easeBackOut());this.helpBtn.runAction(e);for(var t=0;t<this.menuBtns.length;t++){this.menuBtns[t].x=-600;var n=cc.moveTo(.3,cc.v2(0,this.menuBtns[t].y)).easing(cc.easeBackOut());this.menuBtns[t].runAction(cc.sequence(cc.delayTime(.1+.2*t),n))}},e.prototype.PlayBtnClick=function(){a.default.Instance.playSoundClip("clickButton"),o.default.Inst.switchView(o.E_GameView.select)},e.prototype.HelpBtnClick=function(){a.default.Instance.playSoundClip("clickButton"),o.default.Inst.switchView(o.E_GameView.help)},e.prototype.SettingBtnClick=function(){a.default.Instance.playSoundClip("clickButton"),o.default.Inst.switchView(o.E_GameView.setting)},e.prototype.StatBtnClick=function(){a.default.Instance.playSoundClip("clickButton"),o.default.Inst.switchView(o.E_GameView.stat)},__decorate([c(cc.Node)],e.prototype,"helpBtn",void 0),__decorate([c([cc.Node])],e.prototype,"menuBtns",void 0),e=__decorate([s],e)}(i.default);n.default=l,cc._RF.pop()},{"../SoundMgr":"SoundMgr","./UIManager":"UIManager","./ViewBase":"ViewBase"}],StatView:[function(e,t,n){"use strict";cc._RF.push(t,"031d91uLsZGZLRJz5dnX0F8","StatView"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("./UIManager"),i=e("./ViewBase"),a=e("../Mta/MtaSdk"),r=e("../Core/DataMgr"),s=e("../Util"),c=e("../SoundMgr"),l=cc._decorator,u=l.ccclass,d=l.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.backBtn=null,e.bestTimeLabels=[],e.bestRunLabels=[],e.finishedLabels=[],e}return __extends(e,t),e.prototype.start=function(){a.default.Inst.event("ShowStatView"),this.backBtn.y=120;var e=cc.moveTo(.3,cc.v2(this.backBtn.x,-64)).easing(cc.easeBackOut());this.backBtn.runAction(e);var t=r.default.Inst.levelMode,n=r.default.Inst.getGameDataJson();console.log("GameDataJson stat",n);for(var o=0;o<t.length;o++){var i=t[o];this.bestTimeLabels[o].string=s.default.formatTimeFull(Math.floor(n[i].bestTime)),this.bestRunLabels[o].string=n[i].bestStep,this.finishedLabels[o].string=n[i].finished}},e.prototype.BackBtnClick=function(){c.default.Instance.playSoundClip("clickButton"),o.default.Inst.switchView(o.E_GameView.start)},__decorate([d(cc.Node)],e.prototype,"backBtn",void 0),__decorate([d(cc.Label)],e.prototype,"bestTimeLabels",void 0),__decorate([d(cc.Label)],e.prototype,"bestRunLabels",void 0),__decorate([d(cc.Label)],e.prototype,"finishedLabels",void 0),e=__decorate([u],e)}(i.default);n.default=p,cc._RF.pop()},{"../Core/DataMgr":"DataMgr","../Mta/MtaSdk":"MtaSdk","../SoundMgr":"SoundMgr","../Util":"Util","./UIManager":"UIManager","./ViewBase":"ViewBase"}],Sudoku:[function(e,t,n){"use strict";cc._RF.push(t,"d17a5GQekdMxIuMEonhXTON","Sudoku"),Object.defineProperty(n,"__esModule",{value:!0}),n.Sudoku=void 0;var o=function(){function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}}(),i=e("./Generator"),s=e("./Utils");var a={easy:62,medium:53,hard:44,"very-hard":35,insane:26,inhuman:17},r={easy:1,medium:1,hard:2,"very-hard":2,insane:3,inhuman:3},c=function(){function e(){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this.matrix=(new i.Generator).generate()}return o(e,[{key:"make",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"easy",i=s.Utils.matrix.shuffle(Array.from({length:81},function(e,t){return t})).slice(0,a[e]);return this.puzzleMatrix=this.matrix.map(function(e,o){return e.map(function(e,t){var n=9*o+t;return-1!==i.indexOf(n)?e:0})}),this.hintNum=r[e],this.puzzleMatrix}},{key:"check",value:function(e,t){var o=this,n=s.Utils.box.convertFromBoxIndex(e,t),i=n.rowIndex,a=n.colIndex,r=this.matrix[i][a]===this.puzzleMatrix[i][a];return r?{correct:r,finish:this.puzzleMatrix.every(function(e,n){return e.every(function(e,t){return e===o.matrix[n][t]})})}:{correct:r,finish:!1}}}]),e}();n.Sudoku=c,cc._RF.pop()},{"./Generator":"Generator","./Utils":"Utils"}],UIManager:[function(e,t,n){"use strict";cc._RF.push(t,"1b99e4uaY9BG6njQqAzJ5sb","UIManager"),Object.defineProperty(n,"__esModule",{value:!0});var o,i,a=e("./ViewBase"),r=e("../Mta/MtaSdk"),s=e("../QTTSdk"),c=e("../Core/DataMgr"),l=cc._decorator,u=l.ccclass,d=l.property;(i=o=n.E_GameView||(n.E_GameView={}))[i.start=0]="start",i[i.select=1]="select",i[i.game=2]="game",i[i.end=3]="end",i[i.help=4]="help",i[i.setting=5]="setting",i[i.stat=6]="stat";var p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.startView=null,e.selectView=null,e.gameView=null,e.endView=null,e.helpView=null,e.settingView=null,e.statView=null,e.curView=null,e.preView=null,e.curPopView=null,e.preViewType=o.start,e.curViewType=o.start,e.viewParent=null,e.viewMap=new Map,e}var n;return __extends(e,t),n=e,Object.defineProperty(e,"Inst",{get:function(){return n._INST},enumerable:!0,configurable:!0}),e.prototype.onLoad=function(){cc.sys.localStorage.clear(),n._INST=this,r.default.Inst.init(),s.default.Inst.init(),c.default.Inst.init(),this.viewMap.set(o.start,this.startView),this.viewMap.set(o.select,this.selectView),this.viewMap.set(o.game,this.gameView),this.viewMap.set(o.end,this.endView),this.viewMap.set(o.help,this.helpView),this.viewMap.set(o.setting,this.settingView),this.viewMap.set(o.stat,this.statView)},e.prototype.switchView=function(e){this.preView=this.curView,this.preViewType=this.curViewType,this.curViewType=e,this.preView&&this.preView.exit(),this.curView=cc.instantiate(this.viewMap.get(e)).getComponent(a.default),this.curView.node.parent=this.viewParent,this.curView.enter()},e.prototype.showPopView=function(e){this.curPopView&&this.curPopView.exit(),this.curPopView=cc.instantiate(this.viewMap.get(e)).getComponent(a.default),this.curPopView.node.parent=this.viewParent,this.curPopView.enter()},e.prototype.hidePopView=function(){this.curPopView&&(this.curPopView.exit(),this.curPopView=null)},e.prototype.backSwitch=function(){this.curView.exit(),this.curViewType=this.preViewType,this.curView=cc.instantiate(this.viewMap.get(this.curViewType)).getComponent(a.default),this.curView.node.parent=this.viewParent,this.curView.enter()},e.prototype.start=function(){this.switchView(o.start),this.scheduleOnce(function(){s.default.Inst.showBanner()},3),this.schedule(function(){s.default.Inst.showBanner()},60)},__decorate([d(cc.Prefab)],e.prototype,"startView",void 0),__decorate([d(cc.Prefab)],e.prototype,"selectView",void 0),__decorate([d(cc.Prefab)],e.prototype,"gameView",void 0),__decorate([d(cc.Prefab)],e.prototype,"endView",void 0),__decorate([d(cc.Prefab)],e.prototype,"helpView",void 0),__decorate([d(cc.Prefab)],e.prototype,"settingView",void 0),__decorate([d(cc.Prefab)],e.prototype,"statView",void 0),__decorate([d(cc.Node)],e.prototype,"viewParent",void 0),e=n=__decorate([u],e)}(cc.Component);n.default=p,cc._RF.pop()},{"../Core/DataMgr":"DataMgr","../Mta/MtaSdk":"MtaSdk","../QTTSdk":"QTTSdk","./ViewBase":"ViewBase"}],Utils:[function(e,t,n){"use strict";cc._RF.push(t,"6c2c8V5ep5DxL6LVeOGiati","Utils"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}}();var i={make:function(){var e=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0;return Array.from({length:9}).map(function(){return e.makeRow(t)})},makeRow:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0;return Array.from({length:9}).fill(e)},shuffle:function(e){for(var t=0;t<e.length-1;t++){var n=t+1+Math.floor(Math.random()*(e.length-1-t)),o=[e[n],e[t]];e[t]=o[0],e[n]=o[1]}return e},fillable:function(e,t,n,o){for(var i=s.convertToBoxIndex(t,n).boxIndex,a=s.getBoxCells(e,i),r=0;r<9;r++)if(e[t][r]===o||e[r][n]===o||a[r]===o)return!1;return!0}},s={convertToBoxIndex:function(e,t){return{boxIndex:3*Math.floor(e/3)+Math.floor(t/3),cellIndex:e%3*3+t%3}},convertFromBoxIndex:function(e,t){return{rowIndex:3*Math.floor(e/3)+Math.floor(t/3),colIndex:e%3*3+t%3}},getBoxCells:function(e,t){for(var n=[],o=this.convertFromBoxIndex(t,0),i=o.rowIndex,a=o.colIndex,r=0;r<9;r++){var s=i+Math.floor(r/3),c=a+r%3;n.push(e[s][c])}return n}};n.Utils=function(){function e(){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e)}return o(e,null,[{key:"matrix",get:function(){return i}},{key:"box",get:function(){return s}}]),e}();cc._RF.pop()},{}],Util:[function(e,t,n){"use strict";cc._RF.push(t,"4caf0KOeXFEdolYAjyuZtkv","Util"),Object.defineProperty(n,"__esModule",{value:!0});var o=cc._decorator,i=o.ccclass,a=(o.property,function(){function e(){}return e.formatTimeFull=function(e){var t=Math.floor(e/60);return t+":"+("0"+(e-60*t)).substr(-2)},e.formatTimeFull2=function(e){var t=Math.floor(e/3600),n=Math.floor((e-3600*t)/60),o=e-3600*t-60*n;return t.toString()+":"+("0"+n).substr(-2)+":"+("0"+o).substr(-2)},e.getCurTimeSecends=function(){var e=new Date;return Math.floor(e.getTime()/1e3)},e.getTodayDate=function(){var e=new Date;return e.setTime(e.getTime()),e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate()},e=__decorate([i],e)}());n.default=a,cc._RF.pop()},{}],ViewBase:[function(e,t,n){"use strict";cc._RF.push(t,"0088fV0/t9I2r7yug0Z/k/g","ViewBase"),Object.defineProperty(n,"__esModule",{value:!0});var o,i,a=cc._decorator,r=a.ccclass,s=a.property;(i=o=n.ViewAni||(n.ViewAni={}))[i.none=0]="none",i[i.scale=1]="scale",i[i.alpha=2]="alpha",i[i.move=3]="move";var c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.scalePanel=null,e.aniType=o.none,e}return __extends(e,t),e.prototype.enter=function(){this.aniType==o.none?this.node.active=!0:this.aniType==o.scale?(this.node.active=!0,this.scalePanel.setScale(.3),this.scalePanel.runAction(cc.scaleTo(.25,1).easing(cc.easeBackOut())),this.node.runAction(cc.fadeIn(.4).easing(cc.easeCircleActionOut()))):this.aniType==o.alpha?(this.node.active=!0,this.node.opacity=0,this.node.runAction(cc.fadeIn(.4).easing(cc.easeCircleActionOut()))):this.node.active=!0},e.prototype.exit=function(){if(this.aniType==o.none)this.node.destroy();else if(this.aniType==o.scale){var e=cc.scaleTo(.2,.3).easing(cc.easeCircleActionOut()),t=cc.callFunc(function(){this.node.destroy()},this),n=cc.fadeOut(.2).easing(cc.easeCircleActionOut());this.node.runAction(n),this.scalePanel.runAction(cc.sequence(e,t))}else if(this.aniType==o.alpha){e=cc.fadeOut(.2).easing(cc.easeCircleActionOut()),t=cc.callFunc(function(){this.node.destroy()},this);this.node.runAction(cc.sequence(e,t))}else this.node.destroy()},__decorate([s(cc.Node)],e.prototype,"scalePanel",void 0),__decorate([s({type:cc.Enum(o),displayName:"动画类型"})],e.prototype,"aniType",void 0),e=__decorate([r],e)}(cc.Component);n.default=c,cc._RF.pop()},{}],WindowBase:[function(e,t,n){"use strict";cc._RF.push(t,"8139719piNNwY587zqkARVO","WindowBase"),Object.defineProperty(n,"__esModule",{value:!0});var o,i,a=cc._decorator,r=a.ccclass,s=a.property;(i=o=n.WinAni||(n.WinAni={}))[i.none=0]="none",i[i.scale=1]="scale",i[i.alpha=2]="alpha",i[i.move=3]="move";var c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.panel=null,e.aniPanel=null,e.initPos=cc.v2(),e.targetPos=cc.v2(),e.aniType=o.none,e}return __extends(e,t),e.prototype.enter=function(){this.aniType==o.none?this.panel.active=!0:this.aniType==o.scale?(this.panel.active=!0,this.aniPanel.setScale(.3),this.aniPanel.runAction(cc.scaleTo(.25,1).easing(cc.easeBackOut())),this.panel.runAction(cc.fadeIn(.4).easing(cc.easeCircleActionOut()))):this.aniType==o.alpha?(this.panel.active=!0,this.panel.opacity=0,this.panel.runAction(cc.fadeIn(.4).easing(cc.easeCircleActionOut()))):this.aniType==o.move?(this.panel.active=!0,this.panel.opacity=0,this.panel.runAction(cc.fadeIn(.4).easing(cc.easeCircleActionOut())),this.aniPanel.position=this.initPos,this.aniPanel.runAction(cc.moveTo(.3,this.targetPos).easing(cc.easeCircleActionOut()))):this.panel.active=!0},e.prototype.exit=function(){if(this.aniType==o.none)this.panel.active=!1,this.node.destroy();else if(this.aniType==o.scale){var e=cc.scaleTo(.2,.3).easing(cc.easeCircleActionOut()),t=cc.callFunc(function(){this.panel.active=!1,this.node.destroy()},this),n=cc.fadeOut(.2).easing(cc.easeCircleActionOut());this.panel.runAction(n),this.aniPanel.runAction(cc.sequence(e,t))}else if(this.aniType==o.alpha){e=cc.fadeOut(.2).easing(cc.easeCircleActionOut()),t=cc.callFunc(function(){this.panel.active=!1,this.node.destroy()},this);this.panel.runAction(cc.sequence(e,t))}else if(this.aniType==o.move){e=cc.moveTo(.2,this.initPos).easing(cc.easeCircleActionOut()),t=cc.callFunc(function(){this.panel.active=!1,this.node.destroy()},this),n=cc.fadeOut(.2).easing(cc.easeCircleActionOut());this.panel.runAction(n),this.aniPanel.runAction(cc.sequence(e,t))}else this.panel.active=!1,this.node.destroy()},e.prototype.start=function(){},__decorate([s(cc.Node)],e.prototype,"panel",void 0),__decorate([s(cc.Node)],e.prototype,"aniPanel",void 0),__decorate([s(cc.Vec2)],e.prototype,"initPos",void 0),__decorate([s(cc.Vec2)],e.prototype,"targetPos",void 0),__decorate([s({type:cc.Enum(o),displayName:"动画类型"})],e.prototype,"aniType",void 0),e=__decorate([r],e)}(cc.Component);n.default=c,cc._RF.pop()},{}],"mta-h5-analysis-2.0.15":[function(e,t,n){"use strict";function a(e){return e=window.localStorage?localStorage.getItem(e):(e=document.cookie.match(new RegExp("(?:^|;\\s)"+e+"=(.*?)(?:;\\s|$)")))?e[1]:""}function r(e,t,n){if(window.localStorage)try{localStorage.setItem(e,t)}catch(e){}else document.cookie=e+"="+t+";path=/;domain="+(o=window.location.host,2<(i=o.split(".")).length&&(o=({"com.cn":1,"js.cn":1,"net.cn":1,"gov.cn":1,"com.hk":1,"co.nz":1}[i.slice(-2).join(".")]?i.slice(-3):i.slice(-2)).join(".")),o)+(n?";expires="+n:"");var o,i}function u(r,e){var a,s={};if(void 0===e)var t=window.location,n=t.host,o=t.pathname,c=t.search.substr(1),l=t.hash;else n=(t=e.match(/\w+:\/\/((?:[\w-]+\.)+\w+)(?::\d+)?(\/[^\?\\"'\|:<>]*)?(?:\?([^'"\\<>#]*))?(?:#(\w+))?/i)||[])[1],o=t[2],c=t[3],l=t[4];return void 0!==l&&(l=l.replace(/"|'|<|>/gi,"M")),c&&function(){for(var e=c.split("&"),t=0,n=e.length;t<n;t++)if(-1!=e[t].indexOf("=")){var o=e[t].indexOf("="),i=e[t].slice(0,o);o=e[t].slice(o+1),s[i]=o}}(),c=function(){if(void 0===c)return c;for(var e=c.split("&"),t=[],n=0,o=e.length;n<o;n++)if(-1!=e[n].indexOf("=")){var i=e[n].indexOf("="),a=e[n].slice(0,i);i=e[n].slice(i+1),r.ignoreParams&&-1!=r.ignoreParams.indexOf(a)||t.push(a+"="+i)}return t.join("&")}(),l&&function(){for(var e=0==l.indexOf("#")?l.substr(1).split("&"):l.split("&"),t=0,n=e.length;t<n;t++)if(-1!=e[t].indexOf("=")){var o=e[t].indexOf("="),i=e[t].slice(0,o);if(o=e[t].slice(o+1),"adtag"===i.toLowerCase()){a=o;break}}}(),{host:n,path:o,search:c,hash:l,param:s,adtag:a}}function d(t){var e,n,o=u(t),i={dm:o.host,pvi:"",si:"",url:o.path,arg:encodeURIComponent(o.search||"").substr(0,512),ty:0};return i.pvi=function(){if(t.userReport){var e=a("pgv_uid");e&&e==t.user.user_id||(i.ty=1,r("pgv_uid",t.user.user_id,"Sun, 18 Jan 2038 00:00:00 GMT;")),e=t.user.user_id}else(e=a("pgv_pvi"))||(i.ty=1,r("pgv_pvi",e=s(),"Sun, 18 Jan 2038 00:00:00 GMT;"));return e}(),i.si=((e=a("pgv_si"))||r("pgv_si",e=s("s")),e),i.url=(n=o.path,t.senseQuery&&(n+=o.search?"?"+encodeURIComponent(o.search||"").substr(0,512):""),t.senseHash&&(n+=o.hash?encodeURIComponent(o.hash):""),n),i}function s(e){for(var t=[0,1,2,3,4,5,6,7,8,9],n=10;1<n;n--){var o=Math.floor(10*Math.random()),i=t[o];t[o]=t[n-1],t[n-1]=i}for(n=o=0;n<5;n++)o=10*o+t[n];return(e||"")+(o+"")+ +new Date}function p(e){return{r2:e.sid}}function h(e){var t={};if(e){var n,o=[];for(n in e)e.hasOwnProperty(n)&&o.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));e=o.join(";"),t.ext=e}return t}function f(e){var t=u(e,document.referrer);return e=u(e),{rdm:t.host,rurl:t.path,rarg:encodeURIComponent(t.search||"").substr(0,512),adt:e.param.ADTAG||e.param.adtag||e.param.CKTAG||e.param.cktag||e.param.PTAG||e.param.ptag||e.adtag}}function m(){try{var e=navigator,t=screen||{width:"",height:"",colorDepth:""},n={scr:t.width+"x"+t.height,scl:t.colorDepth+"-bit",lg:(e.language||e.userLanguage).toLowerCase(),tz:(new Date).getTimezoneOffset()/60}}catch(e){return{}}return n}cc._RF.push(t,"6d4c2RLSRVHrrTJei2uQGIJ","mta-h5-analysis-2.0.15"),t.exports={conf:{},version:"2.0.15",init:function(e){var t={sid:0,cid:0,autoReport:0,senseHash:0,senseQuery:0,userReport:0,performanceMonitor:0,ignoreParams:[]};if(e)for(var n in e)e.hasOwnProperty(n)&&t.hasOwnProperty(n)&&(t[n]=e[n]);this.conf=t,this.conf.autoReport&&this.pgv()},pgv:function(){var s=this.conf,e=[],c=this.version;if(s.sid)if(!s.userReport||s.user&&s.user.user_id&&!parseInt(s.user.user_id,10)!==conf.user.user_id){for(var t=0,n=[d(s),f(s),p(s),m(),h({version:c}),{random:+new Date}],o=n.length;t<o;t++)for(var i in n[t])n[t].hasOwnProperty(i)&&e.push(i+"="+(void 0===n[t][i]?"":n[t][i]));var l=function(e){e=("https:"==document.location.protocol?"https://pingtas.qq.com/webview":"http://pingtcss.qq.com")+"/pingd?"+e.join("&").toLowerCase();var t=new Image;t.onload=t.onerror=t.onabort=function(){t=t.onload=t.onerror=t.onabort=null},t.src=e};l(e),s.performanceMonitor&&(e=function(){for(var e=function(){if(window.performance){var e=window.performance.timing,t={value:e.domainLookupEnd-e.domainLookupStart},n={value:e.connectEnd-e.connectStart},o={value:e.responseStart-(e.requestStart||e.responseStart+1)},i=e.responseEnd-e.responseStart;e.domContentLoadedEventStart?i<0&&(i=0):i=-1,e={domainLookupTime:t,connectTime:n,requestTime:o,resourcesLoadedTime:{value:i},domParsingTime:{value:e.domContentLoadedEventStart?e.domInteractive-e.domLoading:-1},domContentLoadedTime:{value:e.domContentLoadedEventStart?e.domContentLoadedEventStart-e.fetchStart:-1}}}else e="";return e}(),t=[],n=[],o=0,i=[d(s),{r2:s.cid},m(),{random:+new Date}],a=i.length;o<a;o++)for(var r in i[o])i[o].hasOwnProperty(r)&&n.push(r+"="+(void 0===i[o][r]?"":i[o][r]));for(r in e)e.hasOwnProperty(r)&&("domContentLoadedTime"==r?n.push("r3="+e[r].value):t.push(e[r].value));e=h({pfm:t.join("_"),version:c}),n.push("ext="+e.ext),l(n)},void 0!==window.performance&&void 0!==window.performance.timing&&0!=window.performance.timing.loadEventEnd?e():window.attachEvent?window.attachEvent("onload",e):window.addEventListener&&window.addEventListener("load",e,!1))}else console.log("MTA H5分析错误提示：您选择了用户统计uv，请设置业务的user_id，需为int类型");else console.log("MTA H5分析错误提示：您没有设置sid")},clickStat:function(e,t){var n=this.conf,o=[],i=d(n),a=p(n);if(n.cid){i.dm="taclick",i.url=e,a.r2=n.cid,a.r5=function(e){e=void 0===e?{}:e;var t,n=[];for(t in e)e.hasOwnProperty(t)&&n.push(t+"="+encodeURIComponent(e[t]));return n.join(";")}(t);var r=0;for(i=(n=[i,f(n),a,m(),h({version:this.version}),{random:+new Date}]).length;r<i;r++)for(var s in n[r])n[r].hasOwnProperty(s)&&o.push(s+"="+(void 0===n[r][s]?"":n[r][s]));o=("https:"==document.location.protocol?"https://pingtas.qq.com/webview":"http://pingtcss.qq.com")+"/pingd?"+o.join("&");var c=new Image;c.onload=c.onerror=c.onabort=function(){c=c.onload=c.onerror=c.onabort=null},c.src=o}else console.log("MTA H5分析错误提示：您没有设置cid,请到管理台开通自定义事件并更新统计代码")},clickShare:function(e){var t,n,o=this.conf,i=u(o),a=void 0===(i=i.param.CKTAG||i.param.ckatg)?[]:i.split(".");if(o.cid){i=[];var r=d(o),s=p(o);for(r.dm="taclick_share",r.url="mtah5-share-"+e,s.r2=o.cid,s.r5=(n=[],2===(t=a).length&&"mtah5_share"==t[0]&&n.push(t[0]+"="+t[1]),n.join(";")),e=0,r=(o=[r,f(o),s,m(),h({version:this.version}),{random:+new Date}]).length;e<r;e++)for(var c in o[e])o[e].hasOwnProperty(c)&&i.push(c+"="+(void 0===o[e][c]?"":o[e][c]));c=("https:"==document.location.protocol?"https://pingtas.qq.com/webview":"http://pingtcss.qq.com")+"/pingd?"+i.join("&");var l=new Image;l.onload=l.onerror=l.onabort=function(){l=l.onload=l.onerror=l.onabort=null},l.src=c}else console.log("MTA H5分析错误提示：您没有设置cid,请到管理台开通自定义事件并更新统计代码")}},cc._RF.pop()},{}]},{},["Board","Box","Cell","DataMgr","Generator","Sudoku","Utils","Diffculty","Function","Game","DemoTs","MtaSdk","mta-h5-analysis-2.0.15","Number","QTTSdk","Result","SoundMgr","EndView","GameEvent","GameView","HelpView","SelectView","StartView","StatView","UIManager","ViewBase","WindowBase","Util"]);